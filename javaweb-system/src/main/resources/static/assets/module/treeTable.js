/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./src/treeTable.js");
/******/ })
/************************************************************************/
/******/ ({

/***/ "./src/js/treeTable.js":
/*!*****************************!*\
  !*** ./src/js/treeTable.js ***!
  \*****************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("/** 树形表格3.x Created by wangfan on 2020-04-06 https://gitee.com/whvse/treetable-lay */\n\nlayui.define(['laytpl', 'form', 'util'], function (exports) {\n    var $ = layui.jquery;\n    var laytpl = layui.laytpl;\n    var form = layui.form;\n    var util = layui.util;\n    var device = layui.device();\n    var MOD_NAME = 'treeTable';  // 模块名\n    var _instances = {};  // 记录所有实例\n\n    /* 表格默认参数 */\n    var defaultOption = {\n        elem: undefined,                                 // 容器\n        cols: undefined,                                 // 列参数\n        url: undefined,                                  // url模式请求\n        method: undefined,                               // url模式请求方式\n        where: undefined,                                // url模式请求条件\n        contentType: undefined,                          // url模式请求类型\n        headers: undefined,                              // url模式请求headers\n        parseData: undefined,                            // url模式处理请求数据\n        request: {pidName: 'pid'},                       // url模式请求字段自定义\n        toolbar: undefined,                              // 表头工具栏\n        defaultToolbar: ['filter', 'exports', 'print'],  // 表头工具栏右侧按钮\n        width: undefined,                                // 容器宽度\n        height: undefined,                               // 容器高度\n        cellMinWidth: 90,                                // 单元格最小宽度\n        done: undefined,                                 // 数据处理完回调\n        data: undefined,                                 // 直接赋值数据\n        title: undefined,                                // 定义table大标题，文件导出会用到\n        skin: undefined,                                 // 表格风格\n        even: undefined,                                 // 是否开启隔行变色\n        size: undefined,                                 // 表格尺寸\n        text: {\n            none: '无数据'                               // 空数据提示\n        },\n        reqData: undefined,                              // 自定义加载数据方法\n        useAdmin: false,                                  // 是否使用admin.ajax\n        tree: {\n            idName: 'id',                                // id的字段名\n            pidName: 'pid',                              // pid的字段名\n            childName: 'children',                       // children的字段名\n            haveChildName: 'haveChild',                  // 是否有children标识的字段名\n            openName: 'open',                            // 是否默认展开的字段名\n            iconIndex: 0,                                // 图标列的索引\n            arrowType: undefined,                        // 折叠箭头类型\n            onlyIconControl: undefined,                  // 仅点击图标控制展开折叠\n            getIcon: function (d) {                      // 自定义图标\n                var haveChild = d[this.haveChildName];\n                if (haveChild !== undefined) haveChild = haveChild === true || haveChild === 'true';\n                else if (d[this.childName]) haveChild = d[this.childName].length > 0;\n                if (haveChild) return '<i class=\"ew-tree-icon layui-icon layui-icon-layer\"></i>';\n                else return '<i class=\"ew-tree-icon layui-icon layui-icon-file\"></i>';\n            }\n        }\n    };\n    /* 列默认参数 */\n    var colDefaultOption = {\n        field: undefined,     // 字段名\n        title: undefined,     // 标题\n        width: undefined,     // 宽度\n        minWidth: undefined,  // 最小宽度\n        type: 'normal',       // 列类型\n        fixed: undefined,     // 固定列\n        hide: undefined,      // 是否初始隐藏列\n        unresize: undefined,  // 禁用拖拽列宽\n        style: undefined,     // 单元格样式\n        align: undefined,     // 对齐方式\n        colspan: undefined,   // 单元格所占的列数\n        rowspan: undefined,   // 单元格所占的行数\n        templet: undefined,   // 自定义模板\n        toolbar: undefined,   // 工具列\n        'class': undefined,   // 单元格class\n        singleLine: undefined // 是否一行显示\n    };\n\n    /** TreeTable类构造方法 */\n    var TreeTable = function (options) {\n        _instances[options.elem.substring(1)] = this;\n        this.reload(options);\n    };\n\n    /** 参数设置 */\n    TreeTable.prototype.initOptions = function (opt) {\n        var that = this;\n\n        // 处理特殊列\n        function initCol(item) {\n            if (!item.INIT_OK) item = $.extend({INIT_OK: true}, colDefaultOption, item);\n            // 特殊列处理\n            if (item.type === 'space') {  // 空列\n                if (!item.width) item.width = 15;\n                item.minWidth = item.width;\n            } else if (item.type === 'numbers') {  // 序号列\n                if (!item.width) item.width = 40;\n                item.minWidth = item.width;\n                if (!item.singleLine) item.singleLine = false;\n                if (!item.unresize) item.unresize = true;\n                if (!item.align) item.align = 'center';\n            } else if (item.type === 'checkbox' || item.type === 'radio') {  // 复/单选框列\n                if (!item.width) item.width = 48;\n                item.minWidth = item.width;\n                if (!item.singleLine) item.singleLine = false;\n                if (!item.unresize) item.unresize = true;\n                if (!item.align) item.align = 'center';\n            }\n            if (item.toolbar) item.type = 'tool';\n            return item;\n        }\n\n        // 初始化列参数\n        if ('Array' !== isClass(opt.cols[0])) opt.cols = [opt.cols];\n\n        // 恢复cols参数初始状态\n        for (var m = 0; m < opt.cols.length; m++) {\n            for (var n = 0; n < opt.cols[m].length; n++) {\n                opt.cols[m][n].INIT_OK = undefined;\n                opt.cols[m][n].key = undefined;\n                opt.cols[m][n].colGroup = undefined;\n                opt.cols[m][n].HAS_PARENT = undefined;\n                opt.cols[m][n].parentKey = undefined;\n                opt.cols[m][n].PARENT_COL_INDEX = undefined;\n            }\n        }\n\n        // cols参数处理\n        var colArrays = [], colIndex = 0;\n        for (var i1 = 0; i1 < opt.cols.length; i1++) {\n            var item1 = opt.cols[i1];\n            for (var i2 = 0; i2 < item1.length; i2++) {\n                var item2 = item1[i2];\n                if (!item2) {\n                    item1.splice(i2, 1);\n                    continue;\n                }\n                item2 = initCol(item2);\n                // 合并单元格处理\n                item2.key = i1 + '-' + i2;\n                var CHILD_COLS = undefined;\n                if (item2.colGroup || item2.colspan > 1) {\n                    item2.colGroup = true;\n                    item2.type = 'group';\n                    CHILD_COLS = [];\n                    colIndex++;\n                    var childIndex = 0;\n                    for (var i22 = 0; i22 < opt.cols[i1 + 1].length; i22++) {\n                        var item22 = $.extend({INIT_OK: true}, colDefaultOption, opt.cols[i1 + 1][i22]);\n                        if (item22.HAS_PARENT || (childIndex > 1 && childIndex == item2.colspan)) {\n                            opt.cols[i1 + 1][i22] = item22;\n                            continue;\n                        }\n                        item22.HAS_PARENT = true;\n                        item22.parentKey = i1 + '-' + i2;\n                        item22.key = (i1 + 1) + '-' + i22;\n                        item22.PARENT_COL_INDEX = colIndex;\n                        item22 = initCol(item22);\n                        CHILD_COLS.push(item22);\n                        childIndex = childIndex + parseInt(item22.colspan > 1 ? item22.colspan : 1);\n                        opt.cols[i1 + 1][i22] = item22;\n                    }\n                }\n                item2.CHILD_COLS = CHILD_COLS;\n                if (!item2.PARENT_COL_INDEX) colArrays.push(item2);\n                opt.cols[i1][i2] = item2;\n            }\n        }\n        this.options = $.extend(true, {}, defaultOption, opt);\n        this.options.colArrays = colArrays;\n\n        // url加载模式转为reqData模式\n        if (this.options.url) {\n            this.options.reqData = function (data, callback) {\n                if (!that.options.where) that.options.where = {};\n                if (data) that.options.where[that.options.request.pidName] = data[that.options.tree.idName];\n                (that.options.useAdmin ? layui.admin : $).ajax({\n                    url: that.options.url,\n                    data: that.options.contentType && that.options.contentType.indexOf('application/json') === 0 ? JSON.stringify(that.options.where) : that.options.where,\n                    headers: that.options.headers,\n                    type: that.options.method,\n                    dataType: 'json',\n                    contentType: that.options.contentType,\n                    success: function (res) {\n                        if (that.options.parseData) res = that.options.parseData(res);\n                        if (res.code == 0) callback(res.data);\n                        else callback(res.msg || '加载失败');\n                    },\n                    error: function (xhr) {\n                        callback(xhr.status + ' - ' + xhr.statusText);\n                    }\n                });\n            };\n        } else if (this.options.data && this.options.data.length > 0 && this.options.tree.isPidData) {  // pid形式数据转children形式\n            this.options.data = tt.pidToChildren(this.options.data, this.options.tree.idName, this.options.tree.pidName, this.options.tree.childName);\n        }\n\n        // toolbar参数处理\n        if ('default' === this.options.toolbar) {\n            this.options.toolbar = [\n                '<div>',\n                '   <div class=\"ew-tree-table-tool-item\" title=\"添加\" lay-event=\"add\">',\n                '      <i class=\"layui-icon layui-icon-add-1\"></i>',\n                '   </div>',\n                '   <div class=\"ew-tree-table-tool-item\" title=\"修改\" lay-event=\"update\">',\n                '      <i class=\"layui-icon layui-icon-edit\"></i>',\n                '   </div>',\n                '   <div class=\"ew-tree-table-tool-item\" title=\"删除\" lay-event=\"delete\">',\n                '      <i class=\"layui-icon layui-icon-delete\"></i>',\n                '   </div>',\n                '</div>'\n            ].join('');\n        }\n\n        // 自定义图标参数处理\n        if (typeof this.options.tree.getIcon === 'string') {\n            var icon = this.options.tree.getIcon;\n            this.options.tree.getIcon = function (d) {\n                if (icon !== 'ew-tree-icon-style2') return icon;\n                var haveChild = d[this.haveChildName];\n                if (haveChild !== undefined) haveChild = haveChild === true || haveChild === 'true';\n                else if (d[this.childName]) haveChild = d[this.childName].length > 0;\n                if (haveChild) return '<i class=\"ew-tree-icon ew-tree-icon-folder\"></i>';\n                else return '<i class=\"ew-tree-icon ew-tree-icon-file\"></i>';\n            }\n        }\n    };\n    /** 初始化表格 */\n    TreeTable.prototype.init = function () {\n        var options = this.options;\n        var $elem = $(options.elem);  // 原始表格\n        var tbFilter = options.elem.substring(1);  // 表格的filter\n        // 第一次生成树表格dom\n        $elem.removeAttr('lay-filter');\n        if ($elem.next('.ew-tree-table').length === 0) {\n            $elem.css('display', 'none');\n            $elem.after([\n                '<div class=\"layui-form ew-tree-table\" lay-filter=\"', tbFilter, '\" style=\"', options.style || '', '\">',\n                '   <div class=\"ew-tree-table-tool\" style=\"display: none;\"></div>',\n                '   <div class=\"ew-tree-table-head\">',\n                '      <table class=\"layui-table\"></table>',\n                '   </div>',\n                '   <div class=\"ew-tree-table-box\">',\n                '      <table class=\"layui-table\"></table>',\n                '      <div class=\"ew-tree-table-loading\">',\n                '         <i class=\"layui-icon layui-icon-loading layui-anim layui-anim-rotate layui-anim-loop\"></i>',\n                '      </div>',\n                '      <div class=\"ew-tree-table-empty\">', options.text.none || '', '</div>',\n                '   </div>',\n                '</div>'\n            ].join(''));\n        }\n        // 获取各个组件\n        var components = this.getComponents();\n\n        // 基础参数设置\n        if (options.skin) components.$table.attr('lay-skin', options.skin);\n        if (options.size) components.$table.attr('lay-size', options.size);\n        if (options.even) components.$table.attr('lay-even', options.even);\n\n        // 头部工具栏\n        components.$toolbar.empty();\n        if (options.toolbar === false || options.toolbar === undefined) {\n            components.$toolbar.hide();\n        } else {\n            components.$toolbar.show();\n            if (typeof options.toolbar === 'string') {\n                laytpl($(options.toolbar).html()).render({}, function (html) {\n                    components.$toolbar.html(html);\n                });\n            }\n            var tbRights = ['<div class=\"ew-tree-table-tool-right\">'];\n            for (var i = 0; i < options.defaultToolbar.length; i++) {\n                var tbItem;\n                if ('filter' === options.defaultToolbar[i]) {\n                    tbItem = {title: '筛选', layEvent: 'LAYTABLE_COLS', icon: 'layui-icon-cols'};\n                } else if ('exports' === options.defaultToolbar[i]) {\n                    tbItem = {title: '导出', layEvent: 'LAYTABLE_EXPORT', icon: 'layui-icon-export'};\n                } else if ('print' === options.defaultToolbar[i]) {\n                    tbItem = {title: '打印', layEvent: 'LAYTABLE_PRINT', icon: 'layui-icon-print'};\n                } else {\n                    tbItem = options.defaultToolbar[i];\n                }\n                tbRights.push('<div class=\"ew-tree-table-tool-item\"');\n                tbRights.push(' title=\"' + tbItem.title + '\"');\n                tbRights.push(' lay-event=\"' + tbItem.layEvent + '\">');\n                tbRights.push('<i class=\"layui-icon ' + tbItem.icon + '\"></i></div>');\n            }\n            components.$toolbar.append(tbRights.join('') + '</div>');\n        }\n\n        // 固定宽度\n        if (options.width) {\n            components.$view.css('width', options.width);\n            components.$tHeadGroup.css('width', options.width);\n            components.$tBodyGroup.css('width', options.width);\n        }\n        // 表格尺寸设置\n        var colgroupHtml = this.resize(true);\n        // 生成thead\n        var headHtml = '<thead>' + this.renderBodyTh() + '</thead>';\n\n        // 渲染表头及空的表主体的结构\n        components.$tBodyGroup.children('style').remove();\n        if (options.height) {  // 固定表头\n            components.$tHead.html(colgroupHtml + headHtml);\n            components.$tBody.html(colgroupHtml + '<tbody></tbody>');\n            if (options.height.indexOf('full-') === 0) {  // 差值高度\n                var h = parseFloat(options.height.substring(5)) + components.$toolbar.outerHeight()\n                    + components.$tHeadGroup.outerHeight() + 1;\n                components.$tBodyGroup.append([\n                    '<style>[lay-filter=\"', tbFilter, '\"] .ew-tree-table-box {',\n                    '   height: ', getPageHeight() - h, 'px;',\n                    '   height: -moz-calc(100vh - ', h, 'px);',\n                    '   height: -webkit-calc(100vh - ', h, 'px);',\n                    '   height: calc(100vh - ', h, 'px);',\n                    '}</style>'\n                ].join(''));\n                components.$tBodyGroup.data('full', h);\n                components.$tBodyGroup.css('height', '');\n            } else {  // 固定高度\n                components.$tBodyGroup.css('height', options.height);\n                components.$tBodyGroup.data('full', '');\n            }\n            components.$tHeadGroup.show();\n        } else {\n            components.$tHeadGroup.hide();\n            var trH = {lg: 50, sm: 30, md: 38};\n            components.$tBodyGroup.append([\n                '<style>[lay-filter=\"', tbFilter, '\"] .ew-tree-table-box:before {',\n                '   content: \"\";',\n                '   position: absolute;',\n                '   top: 0; left: 0; right: 0;',\n                '   height: ' + (trH[options.size || 'md'] * options.cols.length) + 'px;',\n                '   background-color: #f2f2f2;',\n                '   border-bottom: 1px solid #e6e6e6;',\n                '}</style>'\n            ].join(''));\n            components.$tBody.html(colgroupHtml + headHtml + '<tbody></tbody>');\n        }\n        form.render('checkbox', tbFilter);  // 渲染表头的表单元素\n\n        // 默认隐藏列修正colspan\n        function patchHide($tr) {\n            var parentKey = $tr.data('parent'), pCol;\n            if (!parentKey) return;\n            var $parent = components.$table.children('thead').children('tr').children('[data-key=\"' + parentKey + '\"]');\n            var colspan = $parent.attr('colspan') - 1;\n            $parent.attr('colspan', colspan);\n            if (colspan === 0) $parent.addClass('layui-hide');\n            patchHide($parent);\n        }\n\n        components.$table.children('thead').children('tr').children('th.layui-hide').each(function () {\n            patchHide($(this));\n        });\n\n        // 渲染数据\n        if (options.reqData) {  // 异步加载\n            this.options.data = undefined;\n            this.renderBodyAsync();\n        } else if (options.data && options.data.length > 0) {\n            this.renderBodyData(options.data);\n        } else {\n            components.$loading.hide();\n            components.$empty.show();\n        }\n    };\n\n    /** 绑定各项事件 */\n    TreeTable.prototype.bindEvents = function () {\n        var that = this;\n        var options = this.options;\n        var components = this.getComponents();\n        var $allBody = components.$table.children('tbody');\n\n        /* 行事件公共返回对象 */\n        var member = function (ext) {\n            // 获取行dom\n            var $tr = $(this);\n            if (!$tr.is('tr')) {\n                var $temp = $tr.parent('tr');\n                if ($temp.length > 0) $tr = $temp;\n                else $tr = $tr.parentsUntil('tr').last().parent();\n            }\n            var data = that.getDataByTr($tr);  // 行对应数据\n            var obj = {\n                tr: $tr,\n                data: data,\n                del: function () { // 删除行\n                    var index = $tr.data('index');\n                    var indent = parseInt($tr.data('indent'));\n                    // 删除子级\n                    $tr.nextAll('tr').each(function () {\n                        if (parseInt($(this).data('indent')) <= indent) return false;\n                        $(this).remove();\n                    });\n                    // 更新后面同辈的index\n                    var indexLength = (typeof index === 'number' ? 1 : index.split('-').length);\n                    $tr.nextAll('tr').each(function () {\n                        var $this = $(this);\n                        if (parseInt($this.data('indent')) < indent) return false;\n                        var _index = $this.data('index').toString().split('-');\n                        _index[indexLength - 1] = parseInt(_index[indexLength - 1]) - 1;\n                        $this.data('index', _index.join('-'));\n                    });\n                    // 删除当前行\n                    var $pTr = $tr.prevAll('tr');\n                    that.del(undefined, index);\n                    $tr.remove();\n                    that.renderNumberCol();  // 渲染序号列\n                    // 联动父级多选框\n                    $pTr.each(function () {\n                        var tInd = parseInt($(this).data('indent'));\n                        if (tInd >= indent) return true;\n                        that.checkParentCB($(this));\n                        indent = tInd;\n                    });\n                    that.checkChooseAllCB();  // 联动全选框\n                    if (options.data.length === 0) components.$empty.show();\n                    updateFixedTbHead(components.$view);  // 更新滚动条补丁\n                },\n                update: function (fields) {  // 修改行\n                    data = $.extend(true, data, fields);\n                    var indent = parseInt($tr.data('indent'));\n                    that.renderBodyTr(data, indent, undefined, $tr);  // 更新界面\n                    form.render(null, components.filter);  // 渲染表单元素\n                    that.renderNumberCol();  // 渲染序号列\n                    // 联动父级多选框\n                    $tr.prevAll('tr').each(function () {\n                        var tInd = parseInt($(this).data('indent'));\n                        if (tInd >= indent) return true;\n                        that.checkParentCB($(this));\n                        indent = tInd;\n                    });\n                    that.checkChooseAllCB();  // 联动全选框\n                }\n            };\n            return $.extend(obj, ext);\n        };\n\n        // 绑定折叠展开事件\n        $allBody.off('click.fold').on('click.fold', '.ew-tree-pack', function (e) {\n            layui.stope(e);\n            var $tr = $(this).parentsUntil('tr').last().parent();\n            if ($tr.hasClass('ew-tree-table-loading')) return; // 已是加载中\n            var haveChild = $tr.data('have-child');\n            if (haveChild !== true && haveChild !== 'true') return; // 子节点\n            var open = $tr.hasClass('ew-tree-table-open');\n            var data = that.getDataByTr($tr);\n            if (!open && !data[options.tree.childName]) {\n                that.renderBodyAsync(data, $tr);\n            } else {\n                data[options.tree.openName] = toggleRow($tr);\n            }\n        });\n\n        // 绑定lay-event事件\n        $allBody.off('click.tool').on('click.tool', '*[lay-event]', function (e) {\n            layui.stope(e);\n            var $this = $(this);\n            layui.event.call(this, MOD_NAME, 'tool(' + components.filter + ')', member.call(this, {\n                event: $this.attr('lay-event')\n            }));\n        });\n\n        // 绑定单选框事件\n        form.on('radio(' + components.radioFilter + ')', function (data) {\n            var d = that.getDataByTr($(data.elem).parentsUntil('tr').last().parent());\n            that.removeAllChecked();\n            d.LAY_CHECKED = true;  // 同时更新数据\n            d.LAY_INDETERMINATE = false;\n            layui.event.call(this, MOD_NAME, 'checkbox(' + components.filter + ')',\n                {checked: true, data: d, type: 'one'});\n        });\n\n        // 绑定复选框事件\n        form.on('checkbox(' + components.checkboxFilter + ')', function (data) {\n            var checked = data.elem.checked;\n            var $cb = $(data.elem);\n            var $layCb = $cb.next('.layui-form-checkbox');\n            // 如果是半选状态，点击全选\n            if (!checked && $cb.hasClass('ew-form-indeterminate')) {\n                checked = true;\n                $cb.prop('checked', checked);\n                $layCb.addClass('layui-form-checked');\n                $cb.removeClass('ew-form-indeterminate');\n            }\n            var $tr = $cb.parentsUntil('tr').last().parent();\n            var d = that.getDataByTr($tr);\n            d.LAY_CHECKED = checked;  // 同时更新数据\n            d.LAY_INDETERMINATE = false;\n            // 联动操作\n            if (d[options.tree.childName] && d[options.tree.childName].length > 0) {\n                that.checkSubCB($tr, checked);  // 联动子级\n            }\n            var indent = parseInt($tr.data('indent'));\n            $tr.prevAll('tr').each(function () {\n                var tInd = parseInt($(this).data('indent'));\n                if (tInd < indent) {\n                    that.checkParentCB($(this));  // 联动父级\n                    indent = tInd;\n                }\n            });\n            that.checkChooseAllCB();  // 联动全选框\n            // 回调事件\n            layui.event.call(this, MOD_NAME, 'checkbox(' + components.filter + ')',\n                {checked: checked, data: d, type: 'more'});\n        });\n\n        // 绑定全选复选框事件\n        form.on('checkbox(' + components.chooseAllFilter + ')', function (data) {\n            var checked = data.elem.checked;\n            var $cb = $(data.elem);\n            var $layCb = $cb.next('.layui-form-checkbox');\n            if (!options.data || options.data.length === 0) {  // 如果数据为空\n                $cb.prop('checked', false);\n                $layCb.removeClass('layui-form-checked');\n                $cb.removeClass('ew-form-indeterminate');\n                return;\n            }\n            // 如果是半选状态，点击全选\n            if (!checked && $cb.hasClass('ew-form-indeterminate')) {\n                checked = true;\n                $cb.prop('checked', checked);\n                $layCb.addClass('layui-form-checked');\n                $cb.removeClass('ew-form-indeterminate');\n            }\n            layui.event.call(this, MOD_NAME, 'checkbox(' + components.filter + ')', {checked: checked, type: 'all'});\n            that.checkSubCB(components.$tBody.children('tbody'), checked);  // 联动操作\n        });\n\n        // 绑定行单击事件\n        $allBody.off('click.row').on('click.row', 'tr', function () {\n            layui.event.call(this, MOD_NAME, 'row(' + components.filter + ')', member.call(this, {}));\n        });\n\n        // 绑定行双击事件\n        $allBody.off('dblclick.rowDouble').on('dblclick.rowDouble', 'tr', function () {\n            layui.event.call(this, MOD_NAME, 'rowDouble(' + components.filter + ')', member.call(this, {}));\n        });\n\n        // 绑定单元格点击事件\n        $allBody.off('click.cell').on('click.cell', 'td', function (e) {\n            var $td = $(this);\n            var type = $td.data('type');\n            // 判断是否是复选框、单选框列\n            if (type === 'checkbox' || type === 'radio') return layui.stope(e);\n            var edit = $td.data('edit');\n            var field = $td.data('field');\n            if (edit) {  // 开启了单元格编辑\n                layui.stope(e);\n                if ($allBody.find('.ew-tree-table-edit').length > 0) return;\n                var index = $td.data('index');\n                var indent = $td.find('.ew-tree-table-indent').length;\n                var d = that.getDataByTr($td.parent());\n                if ('text' === edit || 'number' === edit) {  // 文本框\n                    var $input = $('<input type=\"' + edit + '\" class=\"layui-input ew-tree-table-edit\"/>');\n                    $input[0].value = d[field];\n                    $td.append($input);\n                    $input.focus();\n                    $input.blur(function () {\n                        var value = $(this).val();\n                        if (value == d[field]) return $(this).remove();\n                        var rs = layui.event.call(this, MOD_NAME, 'edit(' + components.filter + ')', member.call(this,\n                            {value: value, field: field}));\n                        if (rs === false) {\n                            $(this).addClass('layui-form-danger');\n                            $(this).focus();\n                        } else {\n                            d[field] = value;  // 同步更新数据\n                            var keys = $td.data('key').split('-');\n                            that.renderBodyTd(d, indent, index, $td, options.cols[keys[0]][keys[1]]);  // 更新单元格\n                        }\n                    });\n                } else {\n                    console.error('不支持的单元格编辑类型:' + edit);\n                }\n            } else {  // 回调单元格点击事件\n                var rs = layui.event.call(this, MOD_NAME, 'cell(' + components.filter + ')', member.call(this,\n                    {td: $td, field: field}));\n                if (rs === false) layui.stope(e);\n            }\n        });\n\n        // 绑定单元格双击事件\n        $allBody.off('dblclick.cellDouble').on('dblclick.cellDouble', 'td', function (e) {\n            var $td = $(this);\n            var type = $td.data('type');\n            // 判断是否是复选框、单选框列\n            if (type === 'checkbox' || type === 'radio') return layui.stope(e);\n            var edit = $td.data('edit');\n            var field = $td.data('field');\n            if (edit) return layui.stope(e);  // 开启了单元格编辑\n            // 回调单元格双击事件\n            var rs = layui.event.call(this, MOD_NAME, 'cellDouble(' + components.filter + ')', member.call(this,\n                {td: $td, field: field}));\n            if (rs === false) layui.stope(e);\n        });\n\n        // 绑定头部工具栏事件\n        components.$toolbar.off('click.toolbar').on('click.toolbar', '*[lay-event]', function (e) {\n            layui.stope(e);\n            var $this = $(this);\n            var event = $this.attr('lay-event');\n            if ('LAYTABLE_COLS' === event) that.toggleCol();\n            else if ('LAYTABLE_EXPORT' === event) that.exportData('show');\n            else if ('LAYTABLE_PRINT' === event) that.printTable();\n            else layui.event.call(this, MOD_NAME, 'toolbar(' + components.filter + ')', {event: event, elem: $this});\n        });\n\n        // 同步滚动条\n        components.$tBodyGroup.on('scroll', function () {\n            var $this = $(this);\n            components.$tHeadGroup.scrollLeft($this.scrollLeft());\n        });\n\n        // 导出数据\n        components.$toolbar.off('click.export').on('click.export', '.layui-table-tool-panel>[data-type]', function () {\n            var type = $(this).data('type');\n            if ('csv' === type || 'xls' === type) that.exportData(type);\n        });\n        components.$toolbar.off('click.panel').on('click.panel', '.layui-table-tool-panel', function (e) {\n            layui.stope(e);\n        });\n\n        // 筛选列\n        form.on('checkbox(' + components.colsToggleFilter + ')', function (data) {\n            that.toggleCol(data.elem.checked, undefined, data.value);\n        });\n\n    };\n\n    /** 获取各个组件 */\n    TreeTable.prototype.getComponents = function () {\n        var $view = $(this.options.elem).next('.ew-tree-table');  // 容器\n        var filter = $view.attr('lay-filter');                    // 容器filter\n        var $tHeadGroup = $view.children('.ew-tree-table-head');  // 表头部分容器\n        var $tBodyGroup = $view.children('.ew-tree-table-box');   // 主体部分容器\n        return {\n            $view: $view,\n            filter: filter,\n            $tHeadGroup: $tHeadGroup,\n            $tBodyGroup: $tBodyGroup,\n            $tHead: $tHeadGroup.children('.layui-table'),                // 表头表格\n            $tBody: $tBodyGroup.children('.layui-table'),                // 主体表格\n            $table: $view.find('.layui-table'),                          // 所有表格\n            $toolbar: $view.children('.ew-tree-table-tool'),             // 头部工具栏\n            $empty: $tBodyGroup.children('.ew-tree-table-empty'),        // 空视图\n            $loading: $tBodyGroup.children('.ew-tree-table-loading'),    // 加载视图\n            checkboxFilter: 'ew_tb_checkbox_' + filter,                  // 复选框filter\n            radioFilter: 'ew_tb_radio_' + filter,                        // 单选框filter\n            chooseAllFilter: 'ew_tb_choose_all_' + filter,               // 全选按钮filter\n            colsToggleFilter: 'ew_tb_toggle_cols' + filter               // 筛选列的filter\n        };\n    };\n\n    /**\n     * 遍历表头\n     * @param callback\n     * @param obj\n     */\n    TreeTable.prototype.eachCols = function (callback, obj) {\n        if (!obj) obj = this.options.colArrays;\n        for (var i = 0; i < obj.length; i++) {\n            var item = obj[i];\n            callback && callback(i, item);\n            if (item.CHILD_COLS) this.eachCols(callback, item.CHILD_COLS);\n        }\n    };\n\n    /**\n     * 遍历数据\n     * @param callback\n     * @param data\n     */\n    TreeTable.prototype.eachData = function (callback, data) {\n        if (!data) data = this.options.data;\n        for (var i = 0; i < data.length; i++) {\n            var item = data[i];\n            callback && callback(i, item);\n            if (item[this.options.tree.childName]) this.eachData(callback, item[this.options.tree.childName]);\n        }\n    };\n\n    /**\n     * 异步加载渲染\n     * @param d 父级数据\n     * @param $tr 父级dom\n     */\n    TreeTable.prototype.renderBodyAsync = function (d, $tr) {\n        var that = this;\n        var options = this.options;\n        var components = this.getComponents();\n        // 显示loading\n        if ($tr) {\n            $tr.addClass('ew-tree-table-loading');\n            $tr.find('.ew-tree-pack').children('.ew-tree-table-arrow').addClass('layui-anim layui-anim-rotate layui-anim-loop');\n        } else {\n            components.$empty.hide();\n            if (options.data && options.data.length > 0) components.$loading.addClass('ew-loading-float');\n            components.$loading.show();\n        }\n        // 请求数据\n        options.reqData(d, function (data) {\n            if (typeof data !== 'string' && data && data.length > 0 && options.tree.isPidData) {\n                data = tt.pidToChildren(data, options.tree.idName, options.tree.pidName, options.tree.childName);\n            }\n            that.renderBodyData(data, d, $tr);  // 渲染内容\n        });\n    };\n\n    /**\n     * 根据数据渲染body\n     * @param data  数据集合\n     * @param d 父级数据\n     * @param $tr 父级dom\n     */\n    TreeTable.prototype.renderBodyData = function (data, d, $tr) {\n        var msg;\n        if (typeof data === 'string') {\n            msg = data;\n            data = [];\n        }\n        var that = this;\n        var options = this.options;\n        var components = this.getComponents();\n        // 更新到数据\n        if (d === undefined) options.data = data;\n        else d[options.tree.childName] = data;\n        var indent;\n        if ($tr) {\n            indent = parseInt($tr.data('indent')) + 1;\n            d[options.tree.openName] = true;\n        }\n        var htmlStr = this.renderBody(data, indent, d);\n        if ($tr) {\n            // 移除旧dom\n            $tr.nextAll('tr').each(function () {\n                if (parseInt($(this).data('indent')) <= (indent - 1)) return false;\n                $(this).remove();\n            });\n            // 渲染新dom\n            $tr.after(htmlStr).addClass('ew-tree-table-open');\n        } else {\n            components.$tBody.children('tbody').html(htmlStr);\n        }\n        form.render(null, components.filter);  // 渲染表单元素\n        this.renderNumberCol();  // 渲染序号列\n        if ($tr) {\n            // 更新父级复选框状态\n            this.checkParentCB($tr);\n            $tr.prevAll('tr').each(function () {\n                var tInd = parseInt($(this).data('indent'));\n                if (tInd < (indent - 1)) {\n                    that.checkParentCB($(this));\n                    indent = tInd + 1;\n                }\n            });\n            // 移除loading\n            $tr.removeClass('ew-tree-table-loading');\n            var $arrow = $tr.find('.ew-tree-pack').children('.ew-tree-table-arrow');\n            $arrow.removeClass('layui-anim layui-anim-rotate layui-anim-loop');\n            if (msg) {  // 加载失败\n                $tr.removeClass('ew-tree-table-open');\n            } else if (data && data.length === 0) {  // 无子集\n                d[options.tree.haveChildName] = false;\n                $tr.data('have-child', false);\n                $arrow.addClass('ew-tree-table-arrow-hide');\n                $arrow.next('.ew-tree-icon').after(options.tree.getIcon(d)).remove();\n            }\n        } else {\n            // 移除loading\n            components.$loading.hide();\n            components.$loading.removeClass('ew-loading-float');\n            // 显示空视图\n            if (data && data.length > 0) {\n                components.$empty.hide();\n            } else {\n                components.$empty.show();\n                if (msg) components.$empty.text(msg);\n                else components.$empty.html(options.text.none);\n            }\n        }\n        this.checkChooseAllCB();  // 联动全选框\n        updateFixedTbHead(components.$view);  // 滚动条补丁\n        options.done && options.done(data);\n    };\n\n    /**\n     * 递归渲染表格主体部分\n     * @param data 数据列表\n     * @param indent 缩进大小\n     * @param parent 父级\n     * @returns {string}\n     */\n    TreeTable.prototype.renderBody = function (data, indent, parent) {\n        var options = this.options;\n        if (!indent) indent = 0;\n        var html = '';\n        if (!data || data.length === 0) return html;\n        var hide = parent ? !parent[options.tree.openName] : undefined;\n        for (var i = 0; i < data.length; i++) {\n            var d = data[i];\n            d.LAY_INDEX = (parent ? parent.LAY_INDEX + '-' : '') + i;\n            html += this.renderBodyTr(d, indent, hide);\n            // 递归渲染子集\n            html += this.renderBody(d[options.tree.childName], indent + 1, d);\n        }\n        return html;\n    };\n\n    /**\n     * 渲染每一行数据\n     * @param d 行数据\n     * @param indent 缩进大小\n     * @param hide 是否隐藏\n     * @param $tr\n     * @returns {string}\n     */\n    TreeTable.prototype.renderBodyTr = function (d, indent, hide, $tr) {\n        var that = this;\n        var options = this.options;\n        if (!indent) indent = 0;\n        var haveChild = d[options.tree.haveChildName];\n        if (haveChild === undefined) haveChild = d[options.tree.childName] && d[options.tree.childName].length > 0;\n        if ($tr) {\n            $tr.data('have-child', haveChild ? 'true' : 'false');\n            $tr.data('indent', indent);\n            $tr.removeClass('ew-tree-table-loading');\n        }\n        var html = '<tr';\n        var classNames = '';\n        if (haveChild && d[options.tree.openName]) classNames += 'ew-tree-table-open';\n        if (hide) classNames += 'ew-tree-tb-hide';\n        html += (' class=\"' + classNames + '\"');\n        if (haveChild) html += (' data-have-child=\"' + haveChild + '\"');\n        html += (' data-index=\"' + d.LAY_INDEX + '\"');\n        html += (' data-indent=\"' + indent + '\">');\n        var index = 0;\n        this.eachCols(function (i, col) {\n            if (col.colGroup) return;\n            html += that.renderBodyTd(d, indent, index, $tr ? $tr.children('td').eq(index) : undefined, col);\n            index++;\n        });\n        html += '</tr>';\n        return html;\n    };\n\n    /**\n     * 渲染每一个单元格数据\n     * @param d 行数据\n     * @param indent 缩进大小\n     * @param index 第几列\n     * @param $td\n     * @param col\n     * @returns {string}\n     */\n    TreeTable.prototype.renderBodyTd = function (d, indent, index, $td, col) {\n        if (!col||col.colGroup) return '';\n        var options = this.options;\n        var components = this.getComponents();\n        if (!indent) indent = 0;\n        // 内容填充\n        var content = '', cell = '', icon = '';\n        if (col.type === 'numbers') {  // 序号列\n            content = '<span class=\"ew-tree-table-numbers\"></span>';\n        } else if (col.type === 'checkbox') {  // 复选框列\n            content = [\n                '<input type=\"checkbox\"', d.LAY_CHECKED ? ' checked=\"checked\"' : '',\n                ' lay-filter=\"', components.checkboxFilter, '\"',\n                ' lay-skin=\"primary\" class=\"ew-tree-table-checkbox',\n                d.LAY_INDETERMINATE ? ' ew-form-indeterminate' : '', '\" />'\n            ].join('');\n        } else if (col.type === 'radio') {  // 单选框列\n            content = [\n                '<input type=\"radio\"', d.LAY_CHECKED ? ' checked=\"checked\"' : '',\n                ' lay-filter=\"', components.radioFilter, '\"',\n                ' name=\"', components.radioFilter, '\"',\n                ' class=\"ew-tree-table-radio\" />'\n            ].join('');\n        } else if (col.templet) {  // 自定义模板\n            if (typeof col.templet === 'function') {\n                content = col.templet(d);\n            } else if (typeof col.templet === 'string') {\n                laytpl($(col.templet).html()).render(d, function (html) {\n                    content = html;\n                });\n            }\n        } else if (col.toolbar) {  // 操作列\n            if (typeof col.toolbar === 'function') {\n                content = col.toolbar(d);\n            } else if (typeof col.toolbar === 'string') {\n                laytpl($(col.toolbar).html()).render(d, function (html) {\n                    content = html;\n                });\n            }\n        } else if (col.field && d[col.field] !== undefined && d[col.field] !== null) {  // 普通字段\n            content = util.escape(d[col.field] || '');\n        }\n        // 图标列处理\n        if (index === options.tree.iconIndex) {\n            // 缩进\n            for (var i = 0; i < indent; i++) icon += '<span class=\"ew-tree-table-indent\"></span>';\n            icon += '<span class=\"ew-tree-pack\">';\n            // 加箭头\n            var haveChild = d[options.tree.haveChildName];\n            if (haveChild === undefined) haveChild = d[options.tree.childName] && d[options.tree.childName].length > 0;\n            icon += ('<i class=\"ew-tree-table-arrow layui-icon' + (haveChild ? '' : ' ew-tree-table-arrow-hide'));\n            icon += (' ' + (options.tree.arrowType || '') + '\"></i>');\n            // 加图标\n            icon += options.tree.getIcon(d);\n            content = '<span>' + content + '</span>';\n            if (options.tree.onlyIconControl) content = icon + '</span>' + content;\n            else content = icon + content + '</span>';\n        }\n        cell = [\n            '<div class=\"ew-tree-table-cell', col.singleLine === undefined || col.singleLine ? ' single-line' : '', '\"',\n            col.align ? ' align=\"' + col.align + '\"' : '',\n            '>',\n            '   <div class=\"ew-tree-table-cell-content\">', content, '</div>',\n            '   <i class=\"layui-icon layui-icon-close ew-tree-tips-c\"></i>',\n            '   <div class=\"layui-table-grid-down\" style=\"display: none;\"><i class=\"layui-icon layui-icon-down\"></i></div>',\n            '</div>'\n        ].join('');\n\n        if ($td) $td.html(cell);\n\n        var html = '<td';\n        if (col.field) html += (' data-field=\"' + col.field + '\"');\n        if (col.edit) html += (' data-edit=\"' + col.edit + '\"');\n        if (col.type) html += (' data-type=\"' + col.type + '\"');\n        if (col.key) html += (' data-key=\"' + col.key + '\"');\n        if (col.style) html += (' style=\"' + col.style + '\"');\n        if (col['class']) html += (' class=\"' + col['class'] + (col.hide ? ' layui-hide' : '') + '\"');\n        else if (col.hide) html += (' class=\"layui-hide\"');\n        html += ('>' + cell + '</td>');\n        return html;\n    };\n\n    /**\n     * 渲染表头\n     * @returns {string}\n     */\n    TreeTable.prototype.renderBodyTh = function () {\n        var options = this.options;\n        var components = this.getComponents();\n        var html = [];\n        $.each(options.cols, function (i1, item1) {\n            html.push('<tr>');\n            $.each(item1, function (i2, item2) {\n                html.push('<th');\n                if (item2.colspan) html.push(' colspan=\"' + item2.colspan + '\"');\n                if (item2.rowspan) html.push(' rowspan=\"' + item2.rowspan + '\"');\n                if (item2.type) html.push(' data-type=\"' + item2.type + '\"');\n                if (item2.key) html.push(' data-key=\"' + item2.key + '\"');\n                if (item2.parentKey) html.push(' data-parent=\"' + item2.parentKey + '\"');\n                if (item2.hide) html.push(' class=\"layui-hide\"');\n                html.push('>');\n                html.push('<div class=\"ew-tree-table-cell' + (item2.singleLine === undefined || item2.singleLine ? ' single-line' : '') + '\"');\n                if (item2.thAlign || item2.align) html.push(' align=\"' + (item2.thAlign || item2.align) + '\"');\n                html.push('>');\n                html.push('<div class=\"ew-tree-table-cell-content\">');\n                // 标题\n                var ca = '<input type=\"checkbox\" lay-filter=\"' + components.chooseAllFilter + '\" lay-skin=\"primary\" class=\"ew-tree-table-checkbox\"/>';\n                if (item2.type === 'checkbox') html.push(ca);\n                else html.push(item2.title || '');\n                html.push('</div><i class=\"layui-icon layui-icon-close ew-tree-tips-c\"></i>');\n                html.push('<div class=\"layui-table-grid-down\" style=\"display: none;\"><i class=\"layui-icon layui-icon-down\"></i></div></div>');\n                // 列宽拖拽\n                if (!item2.colGroup && !item2.unresize) html.push('<span class=\"ew-tb-resize\"></span>');\n                html.push('</th>');\n            });\n            html.push('</tr>');\n        });\n        return html.join('');\n    };\n\n    /** 重置表格尺寸 */\n    TreeTable.prototype.resize = function (returnColgroup) {\n        // 计算表格宽度、最小宽度、百分比宽度\n        var options = this.options;\n        var components = this.getComponents();\n        var minWidth = 1, width = 1, needSetWidth = true, mwPercent = 0;\n        this.eachCols(function (i, item) {\n            if (item.colGroup || item.hide) return;\n            if (item.width) {\n                width += (item.width + 1);\n                if (item.minWidth) {\n                    if (item.width < item.minWidth) item.width = item.minWidth;\n                } else if (item.width < options.cellMinWidth) item.width = options.cellMinWidth;\n            } else needSetWidth = false;\n            if (item.width) minWidth += (item.width + 1);\n            else if (item.minWidth) {\n                minWidth += (item.minWidth + 1);\n                mwPercent += item.minWidth;\n            } else {\n                minWidth += (options.cellMinWidth + 1);\n                mwPercent += options.cellMinWidth;\n            }\n        });\n        if (minWidth) {\n            components.$tHead.css('min-width', minWidth);\n            components.$tBody.css('min-width', minWidth);\n        } else {\n            components.$tHead.css('min-width', 'auto');\n            components.$tBody.css('min-width', 'auto');\n        }\n        if (needSetWidth) {\n            components.$tHead.css('width', width);\n            components.$tBody.css('width', width);\n        } else {\n            components.$tHead.css('width', '100%');\n            components.$tBody.css('width', '100%');\n        }\n\n        // 生成colgroup\n        var colgroupHtml = [];\n        this.eachCols(function (i, item) {\n            if (item.colGroup || item.hide) return;\n            colgroupHtml.push('<col');\n            if (item.width) colgroupHtml.push(' width=\"' + item.width + '\"');\n            else if (item.minWidth) colgroupHtml.push(' width=\"' + (item.minWidth / mwPercent * 100).toFixed(2) + '%\"');\n            else colgroupHtml.push(' width=\"' + (options.cellMinWidth / mwPercent * 100).toFixed(2) + '%\"');\n            if (item.type) colgroupHtml.push(' data-type=\"' + item.type + '\"');\n            if (item.key) colgroupHtml.push(' data-key=\"' + item.key + '\"');\n            colgroupHtml.push('/>');\n        });\n        colgroupHtml = colgroupHtml.join('');\n        if (returnColgroup) return '<colgroup>' + colgroupHtml + '</colgroup>';\n        components.$table.children('colgroup').html(colgroupHtml);\n    };\n\n    /** 获取行对应数据 */\n    TreeTable.prototype.getDataByTr = function ($tr) {\n        var data, index;\n        if (typeof $tr !== 'string' && typeof $tr !== 'number') {\n            if ($tr) index = $tr.data('index');\n        } else index = $tr;\n        if (index === undefined) return;\n        if (typeof index === 'number') index = [index];\n        else index = index.split('-');\n        for (var i = 0; i < index.length; i++) {\n            if (data) data = data[this.options.tree.childName][index[i]];\n            else data = this.options.data[index[i]];\n        }\n        return data;\n    };\n\n    /**\n     * 联动子级复选框状态\n     * @param $tr 当前tr的dom\n     * @param checked\n     */\n    TreeTable.prototype.checkSubCB = function ($tr, checked) {\n        var that = this;\n        var components = this.getComponents();\n        var indent = -1, $trList;\n        if ($tr.is('tbody')) {\n            $trList = $tr.children('tr');\n        } else {\n            indent = parseInt($tr.data('indent'));\n            $trList = $tr.nextAll('tr');\n        }\n        $trList.each(function () {\n            if (parseInt($(this).data('indent')) <= indent) return false;\n            var $cb = $(this).children('td').find('input[lay-filter=\"' + components.checkboxFilter + '\"]');\n            $cb.prop('checked', checked);\n            $cb.removeClass('ew-form-indeterminate');\n            if (checked) $cb.next('.layui-form-checkbox').addClass('layui-form-checked');\n            else $cb.next('.layui-form-checkbox').removeClass('layui-form-checked');\n            var d = that.getDataByTr($(this));\n            d.LAY_CHECKED = checked;  // 同步更新数据\n            d.LAY_INDETERMINATE = false;\n        });\n    };\n\n    /**\n     * 联动父级复选框状态\n     * @param $tr 父级的dom\n     */\n    TreeTable.prototype.checkParentCB = function ($tr) {\n        var options = this.options;\n        var components = this.getComponents();\n        var d = this.getDataByTr($tr);\n        var ckNum = 0, unCkNum = 0;\n        if (d[options.tree.childName]) {\n            function checkNum(data) {\n                for (var i = 0; i < data.length; i++) {\n                    if (data[i].LAY_CHECKED) ckNum++;\n                    else unCkNum++;\n                    if (data[i][options.tree.childName]) checkNum(data[i][options.tree.childName]);\n                }\n            }\n\n            checkNum(d[options.tree.childName]);\n        }\n        var $cb = $tr.children('td').find('input[lay-filter=\"' + components.checkboxFilter + '\"]');\n        if (ckNum > 0 && unCkNum === 0) {  // 全选\n            $cb.prop('checked', true);\n            $cb.removeClass('ew-form-indeterminate');\n            $cb.next('.layui-form-checkbox').addClass('layui-form-checked');\n            d.LAY_CHECKED = true;  // 同步更新数据\n            d.LAY_INDETERMINATE = false;\n        } else if (ckNum === 0 && unCkNum > 0) {  // 全不选\n            $cb.prop('checked', false);\n            $cb.removeClass('ew-form-indeterminate');\n            $cb.next('.layui-form-checkbox').removeClass('layui-form-checked');\n            d.LAY_CHECKED = false;  // 同步更新数据\n            d.LAY_INDETERMINATE = false;\n        } else if (ckNum > 0 && unCkNum > 0) {  // 半选\n            $cb.prop('checked', true);\n            $cb.data('indeterminate', 'true');\n            $cb.addClass('ew-form-indeterminate');\n            $cb.next('.layui-form-checkbox').addClass('layui-form-checked');\n            d.LAY_CHECKED = true;  // 同步更新数据\n            d.LAY_INDETERMINATE = true;\n        }\n    };\n\n    /** 联动全选复选框 */\n    TreeTable.prototype.checkChooseAllCB = function () {\n        var options = this.options;\n        var components = this.getComponents();\n        var ckNum = 0, unCkNum = 0;\n\n        function checkNum(data) {\n            for (var i = 0; i < data.length; i++) {\n                if (data[i].LAY_CHECKED) ckNum++;\n                else unCkNum++;\n                if (data[i][options.tree.childName]) checkNum(data[i][options.tree.childName]);\n            }\n        }\n\n        checkNum(options.data);\n\n        var $cb = components.$view.find('input[lay-filter=\"' + components.chooseAllFilter + '\"]');\n        if (ckNum > 0 && unCkNum === 0) {  // 全选\n            $cb.prop('checked', true);\n            $cb.removeClass('ew-form-indeterminate');\n            $cb.next('.layui-form-checkbox').addClass('layui-form-checked');\n        } else if ((ckNum === 0 && unCkNum > 0) || (ckNum === 0 && unCkNum === 0)) {  // 全不选\n            $cb.prop('checked', false);\n            $cb.removeClass('ew-form-indeterminate');\n            $cb.next('.layui-form-checkbox').removeClass('layui-form-checked');\n        } else if (ckNum > 0 && unCkNum > 0) {  // 半选\n            $cb.prop('checked', true);\n            $cb.addClass('ew-form-indeterminate');\n            $cb.next('.layui-form-checkbox').addClass('layui-form-checked');\n        }\n    };\n\n    /** 填充序号列 */\n    TreeTable.prototype.renderNumberCol = function () {\n        this.getComponents().$tBody.children('tbody').children('tr').each(function (i) {\n            $(this).children('td').find('.ew-tree-table-numbers').text(i + 1);\n        });\n    };\n\n    /** 根据id获取tr的index */\n    TreeTable.prototype.getIndexById = function (id) {\n        var options = this.options;\n        function each(data, pi) {\n            for (var i = 0; i < data.length; i++) {\n                if (data[i][options.tree.idName] === id) return pi !== undefined ? pi + '-' + i : i;\n                if (data[i][options.tree.childName]){\n                   var res = each(data[i][options.tree.childName], pi !== undefined ? pi + '-' + i : i);\n                   if(res) return res;\n                }\n            }\n        }\n        return each(options.data);\n    };\n\n    /** 展开指定行 */\n    TreeTable.prototype.expand = function (id, cascade) {\n        var components = this.getComponents();\n        var $tr = components.$table.children('tbody').children('tr[data-index=\"' + this.getIndexById(id) + '\"]');\n        if (!$tr.hasClass('ew-tree-table-open')) $tr.children('td').find('.ew-tree-pack').trigger('click');\n        if (cascade === false) return;\n        // 联动父级\n        var indent = parseInt($tr.data('indent'));\n        $tr.prevAll('tr').each(function () {\n            var tInd = parseInt($(this).data('indent'));\n            if (tInd < indent) {\n                if (!$(this).hasClass('ew-tree-table-open')) {\n                    $(this).children('td').find('.ew-tree-pack').trigger('click');\n                }\n                indent = tInd;\n            }\n        });\n    };\n\n    /** 折叠指定行 */\n    TreeTable.prototype.fold = function (id) {\n        var components = this.getComponents();\n        var $tr = components.$table.children('tbody').children('tr[data-index=\"' + this.getIndexById(id) + '\"]');\n        if ($tr.hasClass('ew-tree-table-open')) $tr.children('td').find('.ew-tree-pack').trigger('click');\n    };\n\n    /** 全部展开 */\n    TreeTable.prototype.expandAll = function () {\n        this.getComponents().$table.children('tbody').children('tr').each(function () {\n            if (!$(this).hasClass('ew-tree-table-open')) $(this).children('td').find('.ew-tree-pack').trigger('click');\n        });\n    };\n\n    /** 全部折叠 */\n    TreeTable.prototype.foldAll = function () {\n        this.getComponents().$table.children('tbody').children('tr').each(function () {\n            if ($(this).hasClass('ew-tree-table-open')) $(this).children('td').find('.ew-tree-pack').trigger('click');\n        });\n    };\n\n    /** 获取当前数据 */\n    TreeTable.prototype.getData = function () {\n        return this.options.data;\n    };\n\n    /** 重载表格 */\n    TreeTable.prototype.reload = function (opt) {\n        this.initOptions(this.options ? $.extend(true, this.options, opt) : opt);\n        this.init();  // 初始化表格\n        this.bindEvents();  // 绑定事件\n    };\n\n    /** 获取当前选中行 */\n    TreeTable.prototype.checkStatus = function (needIndeterminate) {\n        if (needIndeterminate === undefined) needIndeterminate = true;\n        var list = [];\n        this.eachData(function (i, item) {\n            if ((needIndeterminate || !item.LAY_INDETERMINATE) && item.LAY_CHECKED)\n                list.push($.extend({isIndeterminate: item.LAY_INDETERMINATE}, item));\n        });\n        return list;\n    };\n\n    /** 设置复/单选框选中 */\n    TreeTable.prototype.setChecked = function (ids) {\n        var that = this;\n        var components = this.getComponents();\n        var $radio = components.$table.find('input[lay-filter=\"' + components.radioFilter + '\"]');\n        if ($radio.length > 0) {  // 开启了单选框\n            $radio.each(function () {\n                var d = that.getDataByTr($(this).parentsUntil('tr').parent());\n                if (d && ids[ids.length - 1] == d[that.options.tree.idName]) {\n                    $(this).next('.layui-form-radio').trigger('click');\n                    return false;\n                }\n            });\n        } else {  // 开启了复选框\n            components.$table.find('input[lay-filter=\"' + components.checkboxFilter + '\"]').each(function () {\n                var $cb = $(this);\n                var $layCb = $cb.next('.layui-form-checkbox');\n                var checked = $cb.prop('checked');\n                var indeterminate = $cb.hasClass('ew-form-indeterminate');\n                var d = that.getDataByTr($cb.parentsUntil('tr').parent());\n                for (var i = 0; i < ids.length; i++) {\n                    if (d && ids[i] == d[that.options.tree.idName]) {\n                        if (d[that.options.tree.childName] && d[that.options.tree.childName].length > 0) continue;\n                        if (!checked || indeterminate) $layCb.trigger('click');\n                    }\n                }\n            });\n        }\n    };\n\n    /** 移除全部选中 */\n    TreeTable.prototype.removeAllChecked = function () {\n        this.checkSubCB(this.getComponents().$table.children('tbody'), false);\n    };\n\n    /** 导出 */\n    TreeTable.prototype.exportData = function (type) {\n        var components = this.getComponents();\n        if ('show' === type) {\n            components.$toolbar.find('.layui-table-tool-panel').remove();\n            components.$toolbar.find('[lay-event=\"LAYTABLE_EXPORT\"]').append([\n                '<ul class=\"layui-table-tool-panel\">',\n                '   <li data-type=\"csv\">导出到 Csv 文件</li>',\n                '   <li data-type=\"xls\">导出到 Excel 文件</li>',\n                '</ul>'\n            ].join(''));\n        } else {\n            if (device.ie) return layer.msg('不支持ie导出');\n            if (!type) type = 'xls';\n            var head = [], body = [];\n            this.eachCols(function (i, item) {\n                if (item.type !== 'normal' || item.hide) return;\n                head.push(item.title || '');\n            });\n            components.$tBody.children('tbody').children('tr').each(function () {\n                var items = [];\n                $(this).children('td').each(function () {\n                    var $this = $(this);\n                    if ($this.data('type') !== 'normal' || $this.hasClass('layui-hide')) return true;\n                    items.push($this.text().trim().replace(/,/g, '，'));\n                });\n                body.push(items.join(','));\n            });\n            // 创建下载文件的a标签\n            var alink = document.createElement('a');\n            var content = encodeURIComponent(head.join(',') + '\\r\\n' + body.join('\\r\\n'));\n            var contentType = ({csv: 'text/csv', xls: 'application/vnd.ms-excel'})[type];\n            alink.href = 'data:' + contentType + ';charset=utf-8,\\ufeff' + content;\n            alink.download = (this.options.title || 'table') + '.' + type;\n            document.body.appendChild(alink);\n            alink.click();\n            document.body.removeChild(alink);\n        }\n    };\n\n    /** 打印 */\n    TreeTable.prototype.printTable = function () {\n        var components = this.getComponents();\n        var head = components.$tHead.children('thead').html();\n        if (!head) head = components.$tBody.children('thead').html();\n        var body = components.$tBody.children('tbody').html();\n        var colgroup = components.$tBody.children('colgroup').html();\n        var $html = $([\n            '<table class=\"ew-tree-table-print\">',\n            '   <colgroup>', colgroup, '</colgroup>',\n            '   <thead>', head, '</thead>',\n            '   <tbody>', body, '</tbody>',\n            '</table>'\n        ].join(''));\n\n        // 隐藏特殊列\n        $html.find('col[data-type=\"checkbox\"],col[data-type=\"radio\"],col[data-type=\"tool\"]').remove();\n        $html.find('td[data-type=\"checkbox\"],td[data-type=\"radio\"],td[data-type=\"tool\"],.layui-hide').remove();\n\n        function hideCol($temp) {\n            var parentKey = $temp.data('parent'), pCol;\n            if (!parentKey) return;\n            var $parent = $html.children('thead').children('tr').children('[data-key=\"' + parentKey + '\"]');\n            var colspan = parseInt($parent.attr('colspan')) - 1;\n            $parent.attr('colspan', colspan);\n            if (colspan === 0) $parent.remove();\n            hideCol($parent);\n        }\n\n        $html.find('th[data-type=\"checkbox\"],th[data-type=\"radio\"],th[data-type=\"tool\"]').each(function () {\n            hideCol($(this));\n        }).remove();\n\n        // 打印内容样式\n        var style = [\n            '<style>',\n            '   /* 打印表格样式 */',\n            '   .ew-tree-table-print {',\n            '      border: none;',\n            '      border-collapse: collapse;',\n            '      width: 100%;',\n            '      table-layout: fixed;',\n            '   }',\n            '   .ew-tree-table-print td, .ew-tree-table-print th {',\n            '      color: #555;',\n            '      font-size: 14px;',\n            '      padding: 9px 15px;',\n            '      word-break: break-all;',\n            '      border: 1px solid #888;',\n            '      text-align: left;',\n            '   }',\n            '   .ew-tree-table-print .ew-tree-table-cell {',\n            '      min-height: 20px;',\n            '   }',\n            '   /* 序号列样式 */',\n            '   .ew-tree-table-print td[data-type=\"numbers\"], .ew-tree-table-print th[data-type=\"numbers\"] {',\n            '      padding-left: 0;',\n            '      padding-right: 0;',\n            '   }',\n            '   /* 单/复选框列样式 */',\n            '   .ew-tree-table-print td[data-type=\"tool\"], .ew-tree-table-print th[data-type=\"tool\"], ',\n            '   .ew-tree-table-print td[data-type=\"checkbox\"], .ew-tree-table-print th[data-type=\"checkbox\"], ',\n            '   .ew-tree-table-print td[data-type=\"radio\"], .ew-tree-table-print th[data-type=\"radio\"] {',\n            '      border: none;',\n            '   }',\n            '   .ew-tree-table-print td.layui-hide + td, .ew-tree-table-print th.layui-hide + th, ',\n            '   .ew-tree-table-print td[data-type=\"tool\"] + td, .ew-tree-table-print th[data-type=\"tool\"] + th, ',\n            '   .ew-tree-table-print td[data-type=\"checkbox\"] + td, .ew-tree-table-print th[data-type=\"checkbox\"] + th, ',\n            '   .ew-tree-table-print td[data-type=\"radio\"] + td, .ew-tree-table-print th[data-type=\"radio\"] + th {',\n            '      border-left: none;',\n            '   }',\n            '  /* 不显示的元素 */',\n            '   .layui-hide, ',\n            '   .ew-tree-table-print td[data-type=\"tool\"] *, .ew-tree-table-print th[data-type=\"tool\"] *, ',\n            '   .ew-tree-table-print td[data-type=\"checkbox\"] *, .ew-tree-table-print th[data-type=\"checkbox\"] *, ',\n            '   .ew-tree-table-print td[data-type=\"radio\"] *, .ew-tree-table-print th[data-type=\"radio\"] *, ',\n            '   .layui-table-grid-down, .ew-tree-tips-c, .ew-tree-icon, .ew-tree-table-arrow.ew-tree-table-arrow-hide {',\n            '      display: none;',\n            '   }',\n            '   /* tree缩进 */',\n            '   .ew-tree-table-indent {',\n            '      padding-left: 13px;',\n            '   }',\n            '   /* 箭头 */',\n            '   .ew-tree-table-arrow {',\n            '      position: relative;',\n            '      padding-left: 13px;',\n            '   }',\n            '   .ew-tree-table-arrow:before {',\n            '      content: \"\";',\n            '      border: 5px solid transparent;',\n            '      border-top-color: #666;',\n            '      position: absolute;',\n            '      left: 0;',\n            '      top: 6px;',\n            '   }',\n            '</style>'\n        ].join('');\n        var pWindow = window.open('', '_blank');\n        pWindow.focus();\n        var pDocument = pWindow.document;\n        pDocument.open();\n        pDocument.write($html[0].outerHTML + style);\n        pDocument.close();\n        pWindow.print();\n        pWindow.close();\n    };\n\n    /** 筛选列 */\n    TreeTable.prototype.toggleCol = function (show, field, key) {\n        var components = this.getComponents();\n        if (show === undefined) {\n            components.$toolbar.find('.layui-table-tool-panel').remove();\n            var cols = ['<ul class=\"layui-table-tool-panel\">'];\n            this.eachCols(function (i, item) {\n                if (item.type !== 'normal') return;\n                cols.push('<li><input type=\"checkbox\" lay-skin=\"primary\"');\n                cols.push(' lay-filter=\"' + components.colsToggleFilter + '\"');\n                cols.push(' value=\"' + item.key + '\" title=\"' + util.escape(item.title || '') + '\"');\n                cols.push((item.hide ? '' : ' checked') + '></li>');\n            });\n            components.$toolbar.find('[lay-event=\"LAYTABLE_COLS\"]').append(cols.join('') + '</ul>');\n            form.render('checkbox', components.filter);\n        } else {\n            if (key) {\n                var $td = components.$table.children('tbody').children('tr').children('[data-key=\"' + key + '\"]');\n                var $th = components.$table.children('thead').children('tr').children('[data-key=\"' + key + '\"]');\n                if (show) {\n                    $td.removeClass('layui-hide');\n                    $th.removeClass('layui-hide');\n                } else {\n                    $td.addClass('layui-hide');\n                    $th.addClass('layui-hide');\n                }\n                // 同步更新数据\n                var ks = key.split('-');\n                var col = this.options.cols[ks[0]][ks[1]];\n                col.hide = !show;\n\n                // 更新colspan数据\n                function changeParent($temp) {\n                    var parentKey = $temp.data('parent'), pCol;\n                    if (!parentKey) return;\n                    var $parent = components.$table.children('thead').children('tr').children('[data-key=\"' + parentKey + '\"]');\n                    var colspan = $parent.attr('colspan');\n                    show ? colspan++ : colspan--;\n                    $parent.attr('colspan', colspan);\n                    if (colspan === 0) $parent.addClass('layui-hide');\n                    else $parent.removeClass('layui-hide');\n                    changeParent($parent);\n                }\n\n                changeParent($th);\n\n                // 同步eachCols数据\n                this.eachCols(function (i, item) {\n                    if (item.key === key) item.hide = col.hide;\n                });\n                this.resize();  // 更新表格尺寸\n            }\n        }\n    };\n\n    /**\n     * 搜索数据\n     * @param ids 关键字或数据id集合\n     */\n    TreeTable.prototype.filterData = function (ids) {\n        var components = this.getComponents();\n        components.$loading.show();\n        if (this.options.data.length > 0) components.$loading.addClass('ew-loading-float');\n        var $trList = components.$table.children('tbody').children('tr');\n        var indexList = [];\n        if (typeof ids === 'string') {  // 关键字\n            $trList.each(function () {\n                var index = $(this).data('index');\n                $(this).children('td').each(function () {\n                    if ($(this).text().indexOf(ids) !== -1) {\n                        indexList.push(index);\n                        return false;\n                    }\n                });\n            });\n        } else {\n            for (var i = 0; i < ids.length; i++) {\n                indexList.push(this.getIndexById(ids[i]));\n            }\n        }\n        $trList.addClass('ew-tree-table-filter-hide');\n        for (var j = 0; j < indexList.length; j++) {\n            var $tr = $trList.filter('[data-index=\"' + indexList[j] + '\"]');\n            $tr.removeClass('ew-tree-table-filter-hide');\n            var indent = parseInt($tr.data('indent'));\n            // 联动子级\n            $tr.nextAll('tr').each(function () {\n                if (parseInt($(this).data('indent')) <= indent) return false;\n                $(this).removeClass('ew-tree-table-filter-hide');\n            });\n            if ($tr.hasClass('ew-tree-table-open')) toggleRow($tr);\n            // 联动父级\n            $tr.prevAll('tr').each(function () {\n                var tInd = parseInt($(this).data('indent'));\n                if (tInd < indent) {\n                    $(this).removeClass('ew-tree-table-filter-hide');\n                    if (!$(this).hasClass('ew-tree-table-open')) toggleRow($(this));\n                    indent = tInd;\n                }\n            });\n        }\n        // 最后再检查一遍\n        $trList.not('.ew-tree-table-filter-hide').not('.ew-tree-tb-hide').each(function () {\n            var index = $(this).data('index'), hide = true;\n            for (var k = 0; k < indexList.length; k++) {\n                if (indexList[k] === index) hide = false;\n            }\n            if (hide) $(this).addClass('ew-tree-table-filter-hide');\n        });\n        components.$loading.hide();\n        components.$loading.removeClass('ew-loading-float');\n        if (indexList.length === 0) components.$empty.show();\n        updateFixedTbHead(components.$view);  // 更新滚动条补丁\n    };\n\n    /** 重置搜索 */\n    TreeTable.prototype.clearFilter = function () {\n        var components = this.getComponents();\n        components.$table.children('tbody').children('tr').removeClass('ew-tree-table-filter-hide');\n        if (this.options.data.length > 0) components.$empty.hide();\n        updateFixedTbHead(components.$view);  // 更新滚动条补丁\n    };\n\n    /**\n     * 刷新指定父级下的节点\n     * @param id 父级id,空则全部刷新\n     * @param data 非异步模式替换的数据\n     */\n    TreeTable.prototype.refresh = function (id, data) {\n        if (isClass(id) === 'Array') {\n            data = id;\n            id = undefined;\n        }\n        var components = this.getComponents();\n        var d, $tr;\n        if (id !== undefined) {\n            $tr = components.$table.children('tbody').children('tr[data-index=\"' + this.getIndexById(id) + '\"]');\n            d = this.getDataByTr($tr);\n        }\n        if (data) {  // 数据模式\n            if (this.data.length > 0) components.$loading.addClass('ew-loading-float');\n            components.$loading.show();\n            if (data.length > 0 && this.options.tree.isPidData) {  // pid形式数据\n                this.renderBodyData(tt.pidToChildren(data, this.options.tree.idName, this.options.tree.pidName, this.options.tree.childName), d, $tr);\n            } else {\n                this.renderBodyData(data, d, $tr);\n            }\n        } else {  // 异步模式\n            this.renderBodyAsync(d, $tr);\n        }\n    };\n\n    /** 删除数据 */\n    TreeTable.prototype.del = function (id, index) {\n        if (index === undefined) index = this.getIndexById(id);\n        var indexList = (typeof index === 'number' ? [index] : index.split('-'));\n        var d = this.options.data;\n        if (indexList.length > 1) {\n            for (var i = 0; i < indexList.length - 1; i++) {\n                d = d[parseInt(indexList[i])][this.options.tree.childName];\n            }\n        }\n        d.splice(indexList[indexList.length - 1], 1);\n    };\n\n    /** 更新数据 */\n    TreeTable.prototype.update = function (id, fields) {\n        $.extend(true, this.getDataByTr(this.getIndexById(id)), fields);\n    };\n\n    /** 折叠/展开行 */\n    function toggleRow($tr) {\n        var indent = parseInt($tr.data('indent'));\n        var open = $tr.hasClass('ew-tree-table-open');\n        if (open) {  // 折叠\n            $tr.removeClass('ew-tree-table-open');\n            $tr.nextAll('tr').each(function () {\n                if (parseInt($(this).data('indent')) <= indent) return false;\n                $(this).addClass('ew-tree-tb-hide');\n            });\n        } else {  // 展开\n            $tr.addClass('ew-tree-table-open');\n            var hideInd;\n            $tr.nextAll('tr').each(function () {\n                var ind = parseInt($(this).data('indent'));\n                if (ind <= indent) return false;\n                if (hideInd !== undefined && ind > hideInd) return true;\n                $(this).removeClass('ew-tree-tb-hide');\n                if (!$(this).hasClass('ew-tree-table-open')) hideInd = parseInt($(this).data('indent'));\n                else hideInd = undefined;\n            });\n        }\n        updateFixedTbHead($tr.parentsUntil('.ew-tree-table').last().parent());\n        return open;\n    }\n\n    /** 固定表头滚动条补丁 */\n    function updateFixedTbHead($view) {\n        var $headBox = $view.children('.ew-tree-table-head');\n        var $tbBox = $view.children('.ew-tree-table-box');\n        var sWidth = $tbBox.width() - $tbBox.prop('clientWidth');\n        $headBox.css('border-right', (sWidth > 0 ? sWidth : 0) + 'px solid #f2f2f2');\n    }\n\n    // 监听窗口大小改变\n    $(window).resize(function () {\n        $('.ew-tree-table').each(function () {\n            updateFixedTbHead($(this));\n            var $tbBox = $(this).children('.ew-tree-table-box');\n            var full = $tbBox.data('full');\n            if (full && device.ie && device.ie < 10) {\n                $tbBox.css('height', getPageHeight() - full);\n            }\n        });\n    });\n\n    /** 表格溢出点击展开功能 */\n    $(document).on('mouseenter', '.ew-tree-table-cell.single-line', function () {\n        var $content = $(this).children('.ew-tree-table-cell-content');\n        if ($content.prop('scrollWidth') > $content.outerWidth()) $(this).children('.layui-table-grid-down').show();\n    }).on('mouseleave', '.ew-tree-table-cell.single-line', function () {\n        $(this).children('.layui-table-grid-down').hide();\n    });\n    // 点击箭头展开\n    $(document).on('click', '.ew-tree-table-cell>.layui-table-grid-down', function (e) {\n        e.stopPropagation();\n        hideAllTdTips();\n        var $cell = $(this).parent();\n        $cell.addClass('ew-tree-tips-open');\n        $cell.children('.layui-table-grid-down').hide();\n        var tw = $cell.parent().outerWidth() + 4;\n        if ($cell.outerWidth() < tw) $cell.children('.ew-tree-table-cell-content').css({'width': tw, 'max-width': tw});\n        var $box = $cell.parents().filter('.ew-tree-table-box');\n        if ($box.length === 0) $box = $cell.parents().filter('.ew-tree-table-head');\n        if ($box.length === 0) return;\n        if (($cell.outerWidth() + $cell.offset().left) + 20 > $box.offset().left + $box.outerWidth()) {\n            $cell.addClass('ew-show-left');\n        }\n        if (($cell.outerHeight() + $cell.offset().top + 10) > $box.offset().top + $box.outerHeight()) {\n            $cell.addClass('ew-show-bottom');\n        }\n    });\n    // 点击关闭按钮关闭\n    $(document).on('click', '.ew-tree-table-cell>.ew-tree-tips-c', function () {\n        hideAllTdTips();\n    });\n    // 点击空白部分关闭\n    $(document).on('click', function () {\n        hideAllTdTips();\n        $('.ew-tree-table .layui-table-tool-panel').remove();\n    });\n    $(document).on('click', '.ew-tree-table-cell.ew-tree-tips-open', function (e) {\n        e.stopPropagation();\n    });\n\n    /* 关闭所有单元格溢出提示框 */\n    function hideAllTdTips() {\n        $('.ew-tree-table-cell').removeClass('ew-tree-tips-open ew-show-left ew-show-bottom');\n        $('.ew-tree-table-cell>.ew-tree-table-cell-content').css({'width': '', 'max-width': ''});\n    }\n\n    /** 拖拽调整列宽 */\n    $(document).on('mousedown', '.ew-tb-resize', function (e) {\n        layui.stope(e);\n        var $this = $(this);\n        $this.attr('move', 'true');\n        var key = $this.parent().data('key');\n        $this.data('x', e.clientX);\n        var w = $this.parent().parent().parent().parent().children('colgroup').children('col[data-key=\"' + key + '\"]').attr('width');\n        if (!w || w.toString().indexOf('%') !== -1) w = $this.parent().outerWidth();\n        $this.data('width', w);\n        $('body').addClass('ew-tree-table-resizing');\n    }).on('mousemove', function (e) {\n        var $rs = $('.ew-tree-table .ew-tb-resize[move=\"true\"]');\n        if ($rs.length === 0) return;\n        layui.stope(e);\n        var x = $rs.data('x');\n        var w = $rs.data('width');\n        var nw = parseFloat(w) + e.clientX - parseFloat(x);\n        if (nw <= 0) nw = 1;\n        // 更新实例options中的宽度\n        var ins = _instances[$rs.parentsUntil('.ew-tree-table').last().parent().attr('lay-filter')];\n        var key = $rs.parent().data('key');\n        var ks = key.split('-');\n        ins.options.cols[ks[0]][ks[1]].width = nw;\n        ins.eachCols(function (i, item) {\n            if (item.key === key) item.width = nw;\n        });\n        ins.resize();\n    }).on('mouseup', function (e) {\n        $('.ew-tree-table .ew-tb-resize[move=\"true\"]').attr('move', 'false');\n        $('body').removeClass('ew-tree-table-resizing');\n    }).on('mouseleave', function (e) {\n        $('.ew-tree-table .ew-tb-resize[move=\"true\"]').attr('move', 'false');\n        $('body').removeClass('ew-tree-table-resizing');\n    });\n\n    /** 获取顶级的pId */\n    function getPids(data, idName, pidName) {\n        var pids = [];\n        for (var i = 0; i < data.length; i++) {\n            var hasPid;\n            for (var j = 0; j < data.length; j++) {\n                if (i !== j && data[j][idName] == data[i][pidName]) {\n                    hasPid = true;\n                    break;\n                }\n            }\n            if (!hasPid) pids.push(data[i][pidName]);\n        }\n        return pids;\n    }\n\n    /** 判断pId是否相等 */\n    function pidEquals(pId, pIds) {\n        if (isClass(pIds) === 'Array') {\n            for (var i = 0; i < pIds.length; i++)\n                if (pId == pIds[i]) return true;\n        }\n        return pId == pIds;\n    }\n\n    /** 获取变量类型 */\n    function isClass(o) {\n        if (o === null) return 'Null';\n        if (o === undefined) return 'Undefined';\n        return Object.prototype.toString.call(o).slice(8, -1);\n    }\n\n    /** 获取浏览器高度 */\n    function getPageHeight() {\n        return document.documentElement.clientHeight || document.body.clientHeight;\n    }\n\n    /** 对外提供的方法 */\n    var tt = {\n        /* 渲染 */\n        render: function (options) {\n            return new TreeTable(options);\n        },\n        /* 重载 */\n        reload: function (id, opt) {\n            _instances[id].reload(opt);\n        },\n        /* 事件监听 */\n        on: function (events, callback) {\n            return layui.onevent.call(this, MOD_NAME, events, callback);\n        },\n        /* pid转children形式 */\n        pidToChildren: function (data, idName, pidName, childName, pId) {\n            if (!childName) childName = 'children';\n            var newList = [];\n            for (var i = 0; i < data.length; i++) {\n                if (data[i][idName] == data[i][pidName])\n                    return console.error('第' + i + '条数据的' + idName + '与' + pidName + '相同', data[i]);\n                if (pId === undefined) pId = getPids(data, idName, pidName);\n                if (pidEquals(data[i][pidName], pId)) {\n                    var children = this.pidToChildren(data, idName, pidName, childName, data[i][idName]);\n                    if (children.length > 0) data[i][childName] = children;\n                    newList.push(data[i]);\n                }\n            }\n            return newList;\n        }\n    };\n\n    /** 添加样式 */\n    $('head').append([\n        '<style id=\"ew-tree-table-css\">',\n        '/** 最外层容器 */',\n        '.ew-tree-table {',\n        '    margin: 10px 0;',\n        '    position: relative;',\n        '    border: 1px solid #e6e6e6;',\n        '    border-bottom: none;',\n        '    border-right: none;',\n        '}',\n\n        '.ew-tree-table:before, .ew-tree-table:after, .ew-tree-table .ew-tree-table-head:after {',\n        '    content: \"\";',\n        '    background-color: #e6e6e6;',\n        '    position: absolute;',\n        '    right: 0;',\n        '    bottom: 0;',\n        '}',\n\n        '.ew-tree-table:before {',\n        '    width: 1px;',\n        '    top: 0;',\n        '    z-index: 1;',\n        '}',\n\n        '.ew-tree-table:after, .ew-tree-table .ew-tree-table-head:after {',\n        '    height: 1px;',\n        '    left: 0;',\n        '}',\n\n        '.ew-tree-table .layui-table {',\n        '    margin: 0;',\n        '    position: relative;',\n        '    table-layout: fixed;',\n        '}',\n\n        '/** 表格 */',\n        '.ew-tree-table .layui-table td, .ew-tree-table .layui-table th {',\n        '    border-top: none;',\n        '    border-left: none;',\n        '    padding: 0 !important;',\n        '}',\n\n        '.ew-tree-table .ew-tree-table-box {',\n        '    overflow: auto;',\n        '    position: relative;',\n        '}',\n\n        '.ew-tree-table .ew-tree-table-head {',\n        '    overflow: hidden;',\n        '    box-sizing: border-box;',\n        '    background-color: #f2f2f2;',\n        '    position: relative;',\n        '}',\n\n        '/** loading */',\n        '.ew-tree-table div.ew-tree-table-loading {',\n        '    padding: 10px 0;',\n        '    text-align: center;',\n        '}',\n\n        '.ew-tree-table div.ew-tree-table-loading > i {',\n        '    color: #999;',\n        '    font-size: 30px;',\n        '}',\n\n        '.ew-tree-table div.ew-tree-table-loading.ew-loading-float {',\n        '    position: absolute;',\n        '    top: 0;',\n        '    left: 0;',\n        '    right: 0;',\n        '}',\n\n        '/** 空数据 */',\n        '.ew-tree-table .ew-tree-table-empty {',\n        '    color: #666;',\n        '    font-size: 14px;',\n        '    padding: 18px 0;',\n        '    text-align: center;',\n        '    display: none;',\n        '}',\n\n        '/** 单元格 */',\n        '.ew-tree-table-cell.ew-tree-tips-open {',\n        '    position: absolute;',\n        '    top: 0;',\n        '    left: 0;',\n        '    padding: 0;',\n        '    z-index: 9999;',\n        '    background-color: #fff;',\n        '    box-shadow: 3px 3px 8px rgba(0, 0, 0, .15);',\n        '}',\n\n        'thead .ew-tree-table-cell.ew-tree-tips-open {',\n        '    background-color: #f2f2f2;',\n        '}',\n\n        '.ew-tree-table-cell.ew-tree-tips-open.ew-show-left {',\n        '    right: 0;',\n        '    left: auto;',\n        '    box-shadow: -3px 3px 8px rgba(0, 0, 0, .15);',\n        '}',\n\n        '.ew-tree-table-cell.ew-tree-tips-open.ew-show-bottom {',\n        '    bottom: 0;',\n        '    top: auto;',\n        '    box-shadow: 3px -3px 8px rgba(0, 0, 0, .15);',\n        '}',\n\n        '.ew-tree-table-cell.ew-tree-tips-open.ew-show-left.ew-show-bottom {',\n        '    box-shadow: -3px -3px 8px rgba(0, 0, 0, .15);',\n        '}',\n\n        '.ew-tree-table-cell > .ew-tree-tips-c {',\n        '    position: absolute;',\n        '    right: -6px;',\n        '    top: -3px;',\n        '    width: 22px;',\n        '    height: 22px;',\n        '    line-height: 22px;',\n        '    font-size: 16px;',\n        '    color: #fff;',\n        '    background-color: #666;',\n        '    border-radius: 50%;',\n        '    text-align: center;',\n        '    cursor: pointer;',\n        '    display: none;',\n        '}',\n\n        'table tr:first-child .ew-tree-table-cell > .ew-tree-tips-c {',\n        '    top: 0;',\n        '}',\n\n        '.ew-tree-table-cell.ew-tree-tips-open > .ew-tree-tips-c {',\n        '    display: block;',\n        '}',\n\n        '.ew-tree-table-cell.ew-tree-tips-open.ew-show-left > .ew-tree-tips-c {',\n        '    left: -6px;',\n        '    right: auto;',\n        '}',\n\n        '.ew-tree-table-cell > .ew-tree-table-cell-content {',\n        '    padding: 5px 15px;',\n        '    line-height: 28px;',\n        '}',\n\n        '[lay-size=\"lg\"] .ew-tree-table-cell > .ew-tree-table-cell-content {',\n        '    line-height: 40px;',\n        '}',\n\n        '[lay-size=\"sm\"] .ew-tree-table-cell > .ew-tree-table-cell-content {',\n        '    padding: 1px 15px;',\n        '}',\n\n        '.ew-tree-table-cell.single-line > .ew-tree-table-cell-content {',\n        '    overflow: hidden;',\n        '    white-space: nowrap;',\n        '    text-overflow: ellipsis;',\n        '}',\n\n        '.ew-tree-table-cell.ew-tree-tips-open > .ew-tree-table-cell-content {',\n        '    overflow: auto;',\n        '    padding: 9px 15px;',\n        '    height: auto;',\n        '    min-height: 100%;',\n        '    max-height: 110px;',\n        '    line-height: inherit;',\n        '    max-width: 260px;',\n        '    width: 200px;',\n        '    width: max-content;',\n        '    width: -moz-max-content;',\n        '    box-sizing: border-box;',\n        '    white-space: normal;',\n        '}',\n\n        '.ew-tree-table-cell > .layui-table-grid-down {',\n        '    box-sizing: border-box;',\n        '}',\n\n        '/** 图标列 */',\n        '.ew-tree-table .ew-tree-pack {',\n        '    cursor: pointer;',\n        '    line-height: 16px;',\n        '}',\n\n        '.ew-tree-table .ew-tree-pack > .layui-icon, .ew-tree-table .ew-tree-pack > .ew-tree-icon {',\n        '    margin-right: 5px;',\n        '}',\n\n        '.ew-tree-table .ew-tree-pack > * {',\n        '    vertical-align: middle;',\n        '}',\n\n        '/* 缩进 */',\n        '.ew-tree-table .ew-tree-table-indent {',\n        '    margin-right: 5px;',\n        '    padding-left: 16px;',\n        '}',\n\n        '/* 箭头 */',\n        '.ew-tree-table .ew-tree-table-arrow:before {',\n        '    content: \"\\\\e623\";',\n        '}',\n\n        '.ew-tree-table .ew-tree-table-open .ew-tree-table-arrow:before {',\n        '    content: \"\\\\e625\";',\n        '}',\n\n        '.ew-tree-table .ew-tree-table-arrow.arrow2 {',\n        '    font-size: 12px;',\n        '    font-weight: 600;',\n        '    line-height: 16px;',\n        '    height: 16px;',\n        '    width: 16px;',\n        '    display: inline-block;',\n        '    text-align: center;',\n        '    color: #888;',\n        '}',\n\n        '.ew-tree-table .ew-tree-table-arrow.arrow2:before {',\n        '    content: \"\\\\e602\";',\n        '}',\n\n        '.ew-tree-table .ew-tree-table-open .ew-tree-table-arrow.arrow2:before {',\n        '    content: \"\\\\e61a\";',\n        '}',\n\n        '.ew-tree-table-arrow.ew-tree-table-arrow-hide {',\n        '    visibility: hidden;',\n        '}',\n\n        '/* 箭头变加载中状态 */',\n        '.ew-tree-table tr.ew-tree-table-loading > td .ew-tree-table-arrow:before {',\n        '    content: \"\\\\e63d\" !important;',\n        '}',\n\n        '.ew-tree-table tr.ew-tree-table-loading > td .ew-tree-table-arrow {',\n        '    margin-right: 0;',\n        '}',\n\n        '.ew-tree-table tr.ew-tree-table-loading > td .ew-tree-table-arrow + * {',\n        '    margin-left: 5px;',\n        '}',\n\n        '.ew-tree-table tr.ew-tree-table-loading * {',\n        '    pointer-events: none !important;',\n        '}',\n\n        '/** 折叠行 */',\n        '.ew-tree-table .ew-tree-tb-hide {',\n        '    display: none;',\n        '}',\n\n        '/** 特殊列调整 */',\n        '.ew-tree-table td[data-type=\"numbers\"] > .ew-tree-table-cell,',\n        '.ew-tree-table th[data-type=\"numbers\"] > .ew-tree-table-cell,',\n        '.ew-tree-table td[data-type=\"checkbox\"] > .ew-tree-table-cell,',\n        '.ew-tree-table th[data-type=\"checkbox\"] > .ew-tree-table-cell,',\n        '.ew-tree-table td[data-type=\"radio\"] > .ew-tree-table-cell,',\n        '.ew-tree-table th[data-type=\"radio\"] > .ew-tree-table-cell,',\n        '.ew-tree-table td[data-type=\"space\"] > .ew-tree-table-cell,',\n        '.ew-tree-table th[data-type=\"space\"] > .ew-tree-table-cell {',\n        '    padding-left: 0;',\n        '    padding-right: 0;',\n        '}',\n\n        '/* 单元格内表单元素样式调整 */',\n        '.ew-tree-table .layui-form-switch',\n        '.ew-tree-table .layui-form-radio {',\n        '    margin: 0;',\n        '}',\n\n        '/* checkbox列调整 */',\n        '.ew-tree-table-checkbox + .layui-form-checkbox {',\n        '    padding: 0;',\n        '}',\n\n        '.ew-tree-table-checkbox + .layui-form-checkbox > .layui-icon {',\n        '    font-weight: 600;',\n        '    color: transparent;',\n        '    transition: background-color .1s linear;',\n        '    -webkit-transition: background-color .1s linear;',\n        '}',\n\n        '.ew-tree-table-checkbox + .layui-form-checkbox.layui-form-checked > .layui-icon {',\n        '    color: #fff;',\n        '}',\n\n        '/* checkbox半选状态 */',\n        '.ew-form-indeterminate + .layui-form-checkbox .layui-icon:before {',\n        '    content: \"\";',\n        '    width: 10px;',\n        '    height: 2px;',\n        '    background-color: #f1f1f1;',\n        '    position: absolute;',\n        '    top: 50%;',\n        '    left: 50%;',\n        '    margin: -1px 0 0 -5px;',\n        '}',\n\n        '/* radio列调整 */',\n        '.ew-tree-table-radio + .layui-form-radio {',\n        '    margin: 0;',\n        '    padding: 0;',\n        '    height: 20px;',\n        '    line-height: 20px;',\n        '}',\n\n        '.ew-tree-table-radio + .layui-form-radio > i {',\n        '    margin: 0;',\n        '    height: 20px;',\n        '    font-size: 20px;',\n        '    line-height: 20px;',\n        '}',\n\n        '/** 单元格编辑 */',\n        '.ew-tree-table .layui-table td[data-edit] {',\n        '    cursor: text;',\n        '}',\n\n        '.ew-tree-table .ew-tree-table-edit {',\n        '    position: absolute;',\n        '    left: 0;',\n        '    top: 0;',\n        '    width: 100%;',\n        '    height: 100%;',\n        '    border-radius: 0;',\n        '    box-shadow: 1px 1px 20px rgba(0, 0, 0, .15);',\n        '}',\n\n        '.ew-tree-table .ew-tree-table-edit:focus {',\n        '    border-color: #5FB878 !important;',\n        '}',\n\n        '.ew-tree-table .ew-tree-table-edit.layui-form-danger {',\n        '    border-color: #FF5722 !important;',\n        '}',\n\n        '/** 搜索数据隐藏行 */',\n        '.ew-tree-table tr.ew-tree-table-filter-hide {',\n        '    display: none !important;',\n        '}',\n\n        '/** 头部工具栏 */',\n        '.ew-tree-table .ew-tree-table-tool {',\n        '    min-height: 50px;',\n        '    line-height: 30px;',\n        '    padding: 10px 15px;',\n        '    box-sizing: border-box;',\n        '    background-color: #f2f2f2;',\n        '    border-bottom: 1px solid #e6e6e6;',\n        '}',\n\n        '.ew-tree-table .ew-tree-table-tool .ew-tree-table-tool-right {',\n        '    float: right;',\n        '}',\n\n        '.ew-tree-table .ew-tree-table-tool .ew-tree-table-tool-item {',\n        '    position: relative;',\n        '    color: #333;',\n        '    width: 26px;',\n        '    height: 26px;',\n        '    line-height: 26px;',\n        '    text-align: center;',\n        '    margin-left: 10px;',\n        '    display: inline-block;',\n        '    border: 1px solid #ccc;',\n        '    box-sizing: border-box;',\n        '    vertical-align: middle;',\n        '    -webkit-transition: .3s all;',\n        '    transition: .3s all;',\n        '    cursor: pointer;',\n        '}',\n\n        '.ew-tree-table .ew-tree-table-tool .ew-tree-table-tool-item:first-child {',\n        '    margin-left: 0;',\n        '}',\n\n        '.ew-tree-table .ew-tree-table-tool .ew-tree-table-tool-item:hover {',\n        '    border-color: #999;',\n        '}',\n\n        '.ew-tree-table .ew-tree-table-tool-right .layui-table-tool-panel {',\n        '    left: auto;',\n        '    right: -1px;',\n        '    z-index: 9999;',\n        '}',\n\n        '/* 列宽拖拽调整 */',\n        '.ew-tree-table .ew-tb-resize {',\n        '    position: absolute;',\n        '    right: 0;',\n        '    top: 0;',\n        '    bottom: 0;',\n        '    width: 10px;',\n        '    cursor: col-resize;',\n        '}',\n\n        '.ew-tree-table-resizing {',\n        '    cursor: col-resize;',\n        '    -ms-user-select: none;',\n        '    -moz-user-select: none;',\n        '    -webkit-user-select: none;',\n        '    user-select: none;',\n        '}',\n\n        '/* 辅助样式 */',\n        '.ew-tree-table .layui-form-switch {',\n        '    margin: 0;',\n        '}',\n\n        '.ew-tree-table .pd-tb-0 {',\n        '    padding-top: 0 !important;',\n        '    padding-bottom: 0 !important;',\n        '}',\n\n        '.ew-tree-table .break-all {',\n        '    word-break: break-all !important;',\n        '}',\n\n        '/** 扩展图标 */',\n        '.ew-tree-table .ew-tree-icon-folder:after, .ew-tree-table .ew-tree-icon-file:after {',\n        '    content: \"\";',\n        '    padding: 2px 10px;',\n        '    -webkit-background-size: cover;',\n        '    -moz-background-size: cover;',\n        '    -o-background-size: cover;',\n        '    background-size: cover;',\n        '    background-repeat: no-repeat;',\n        '    background-image: url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAAE6UlEQVR4Xu2ZPYhcVRiGny9hC0FsTEBCGkFTWIQE/IlpgmKpWAiLyR0XLbYTxEKxkCAEhRCxEOwsjJnJioKIYClWKgqiskIIaCoLYyASVJT87JGspN37LrOXvec777Tzzrnvz7Nn2dnAr6YbiKbTOzwGoHEIDIABaLyBxuP7BjAAjTfQeHzfAAag8QYaj+8bwAA03kDj8X0DGIDGG2g8/lw3QFlhD9fZN7oOF7gYT3NudL5GaGjTAJQP2c1VXgIOExyGkf4/oXCe4I3oeH+EvY/G0qYAKFOWCV4Hdo8mQb+RL7jBE7HE3/3S9hQyAGXGCeDVSiv6lqscief4t1L/g9mWAChTHiD4ZrTXvVbPu9GxrEnbUWkAzPgeOJCglsXo+ChBji2L0AtAmfEgrP/0Z3hdZoF7Y5HLGcJsRQYFgLeAF7fiYSM540x0LI3Ey7bb6AdgytcEh7bd6VYa2MGhOJrmVpurmX4AZlwCds31lPF9+AI32O8/DYUvccqUKwR3jG/DuR29Gd36F1pNv/pvgKwAFK5RuC+e4eeWCWgXgJurFz6LCY8bgA0aSPwr4P/UhVNc43ir3xK2fQPcAr/wO/AewU/Ar6xRqroVdvAnC6zGIlc369sAbLax8er/ofAJOzkVR9e/uZVeBkCqqTrRyeh4RXFtAJSWatQUno0Jp/usG4C+hup9/yJ72BuPcH2jCAag3oEV50vRccYAKFXl1LwdHS8YgJzj9qcqfBoTnjQA/VVlVXwXHfcbgKzz9uf6IToOGoD+orIqDEDWZcVcBkAsKqvMAGRdVsxlAMSissoMQNZlxVwGQCwqq8wAZF1WzGUAxKKyygxA1mXFXAZALCqrzABkXVbMZQDEorLKDEDWZcVcBkAsKqvMAGRdVsxlAMSissoMQNZlxVwGQCwqq8wAZF1WzGUAxKKyygxA1mXFXAZALCqrzABkXVbMZQDEorLKDEDWZcVcBkAsKqvMAGRdVsxlAMSissoMQNZlxVwGQCwqq8wAZF1WzGUAxKKyygxA1mXFXAZALCqrzABkXVbMZQDEorLKDEDWZcVcBkAsKqvMAGRdVsxlAMSissoMQNZlxVwGQCwqq8wAZF1WzGUAxKKyygxA1mXFXAZALCqrzABkXVbMZQDEorLKDEDWZcVcBkAsKqvMAGRdVsxlAMSissoMQNZlxVwGQCwqq8wAZF1WzGUAxKKyygxA1mXFXAZALCqrzABkXVbMZQDEorLKDEDWZcVcBkAsKqvMAGRdVsxlAMSissoMQNZlxVwGQCwqq8wAZF1WzLUFAMy4BOwSH2jZmBoorMaE/RtZij6/ZcoFgrv7dH5/lA38Eh33zAfAjM+BR0cZz6Y2bqDwY0w4MB8AU04SvOyuq2zg4+h4aj4AzvIwha+qjN+66cLzMeGduQC4+eEy4zywr/U+K8t/hQX2xiJ/zQ/ACgdZ40vgtspKaNducCyOsdJXQO9fAbcOKGc5whofENzVd6jf3/YGTkTHccWFDMD6r4LT3MlOloHHCB4CblceYs3gDfxB4TeCcxReiwmr6hM3BYB6qHX1NGAA6tlqEKcGYJBa6znUANSz1SBODcAgtdZzqAGoZ6tBnBqAQWqt51ADUM9Wgzg1AIPUWs+hBqCerQZxagAGqbWeQw1APVsN4tQADFJrPYcagHq2GsTpf+KxwJB5Cd5mAAAAAElFTkSuQmCC\");',\n        '}',\n\n        '.ew-tree-table tr.ew-tree-table-open > td .ew-tree-icon-folder:after {',\n        '    background-image: url(\"data:image/png;base64,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\");',\n        '}',\n\n        '.ew-tree-table .ew-tree-icon-file:after {',\n        '    background-image: url(\"data:image/png;base64,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\");',\n        '}',\n        '</style>'\n    ].join(''));\n\n    exports('treeTable', tt);\n});\n\n\n//# sourceURL=webpack:///./src/js/treeTable.js?");

/***/ }),

/***/ "./src/treeTable.js":
/*!**************************!*\
  !*** ./src/treeTable.js ***!
  \**************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("__webpack_require__(/*! ./js/treeTable.js */ \"./src/js/treeTable.js\");\n\n//# sourceURL=webpack:///./src/treeTable.js?");

/***/ })

/******/ });